{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema Ferreteria Wouchuk{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <div class="d-flex">
        <!-- Barra Lateral -->
        <nav class="bg-dark text-white p-3 d-flex flex-column align-items-start" style="min-width: 200px; height: 100vh;">
            <img src="{% static 'wouchuk-logo.jpg' %}" alt="Wouchuk Logo" class="img-fluid mb-3 sidebar-logo">
            <ul class="nav flex-column w-100">
                <!-- Inicio -->
                <li class="nav-item">
                    <a class="nav-link text-white" href="#">Inicio</a>
                </li>
        
                <!-- Clientes -->
                <li class="nav-item">
                    <a class="nav-link text-white {% if 'clientes' in request.path %}active{% endif %}" 
                       data-bs-toggle="collapse" 
                       data-bs-target="#clientesSubmenu" 
                       role="button" 
                       aria-expanded="{% if 'clientes' in request.path %}true{% else %}false{% endif %}">
                        Clientes
                    </a>
                    <div class="collapse {% if 'clientes' in request.path %}show{% endif %}" id="clientesSubmenu">
                        <ul class="nav flex-column ps-3">
                            <!-- ABM -->
                            <li>
                                <a class="nav-link text-white" href="#">ABM</a>
                                <ul class="nav flex-column ps-3">
                                    <li>
                                        <a class="nav-link text-white {% if 'tipodocumento' in request.path %}active{% endif %}" href="{% url 'tipodocumento_list' %}">Tipos de Documentos</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'categoriaarca' in request.path %}active{% endif %}" href="{% url 'categoriaarca_list' %}">Categoría Arca</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'rubro' in request.path %}active{% endif %}" href="{% url 'rubro_list' %}">Rubros</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'departamento' in request.path %}active{% endif %}" href="{% url 'departamento_list' %}">Departamentos</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'tipocliente' in request.path %}active{% endif %}" href="{% url 'tipocliente_list' %}">Tipo Cliente</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'pais' in request.path %}active{% endif %}" href="{% url 'pais_list' %}">Paises</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'provincia' in request.path %}active{% endif %}" href="{% url 'provincia_list' %}">Provincias</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'localidad' in request.path %}active{% endif %}" href="{% url 'localidad_list' %}">Localidades</a>
                                    </li>
                                    <li>
                                        <a class="nav-link text-white {% if 'cliente_list' in request.path %}active{% endif %}" href="{% url 'cliente_list' %}">
                                            Clientes
                                        </a>                                        
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </li>
                
                <!-- Productos -->
                <li class="nav-item">
                    <a class="nav-link text-white {% if 'productos' in request.path %}active{% endif %}" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#productosSubmenu" 
                    role="button" 
                    aria-expanded="{% if 'productos' in request.path %}true{% else %}false{% endif %}">
                        Productos
                    </a>
                    <div class="collapse {% if 'productos' in request.path %}show{% endif %}" id="productosSubmenu">
                        <ul class="nav flex-column ps-3">
                            <li>
                                <a class="nav-link text-white {% if 'producto_list' in request.path %}active{% endif %}" href="{% url 'producto_list' %}">
                                    Lista de Productos
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'producto_create' in request.path %}active{% endif %}" href="{% url 'producto_create' %}">
                                    Crear Producto
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'unidad' in request.path %}active{% endif %}" href="{% url 'unidad_list' %}">
                                    Unidades
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'marca' in request.path %}active{% endif %}" href="{% url 'marca_list' %}">
                                    Marcas
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'sinonimo' in request.path %}active{% endif %}" href="{% url 'sinonimo_list' %}">
                                    Sinónimos
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'idtipo1' in request.path %}active{% endif %}" href="{% url 'idtipo1_list' %}">
                                    Grupos
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'idtipo2' in request.path %}active{% endif %}" href="{% url 'idtipo2_list' %}">
                                    Subgrupos
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>

                
                <!-- Remitos -->
                <li class="nav-item">
                    <a class="nav-link text-white {% if 'remitos' in request.path %}active{% endif %}" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#remitosSubmenu" 
                    role="button" 
                    aria-expanded="{% if 'remitos' in request.path %}true{% else %}false{% endif %}">
                        Remitos
                    </a>
                    <div class="collapse {% if 'remitos' in request.path %}show{% endif %}" id="remitosSubmenu">
                        <ul class="nav flex-column ps-3">
                            <li>
                                <a class="nav-link text-white {% if 'remito_list' in request.path %}active{% endif %}" href="{% url 'remito_list' %}">
                                    Lista de Remitos
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'remito_create' in request.path %}active{% endif %}" href="{% url 'remito_create' %}">
                                    Crear Remito
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>


                <!-- Stock -->
                <li class="nav-item">
                    <a class="nav-link text-white {% if 'stock' in request.path %}active{% endif %}" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#stockSubmenu" 
                    role="button" 
                    aria-expanded="{% if 'stock' in request.path %}true{% else %}false{% endif %}">
                        Stock
                    </a>
                    <div class="collapse {% if 'stock' in request.path %}show{% endif %}" id="stockSubmenu">
                        <ul class="nav flex-column ps-3">
                            <li>
                                <a class="nav-link text-white {% if 'consulta' in request.path %}active{% endif %}" href="{% url 'consulta_stock' %}">
                                    Consulta de Stock
                                </a>
                            </li>                                  
                            <li>
                                <a class="nav-link text-white {% if 'depositos' in request.path %}active{% endif %}" href="{% url 'deposito_list' %}">
                                    Depósitos
                                </a>
                            </li>                            
                            <li>
                                <a class="nav-link text-white {% if 'pasillos' in request.path %}active{% endif %}" href="{% url 'pasillo_list' %}">
                                    Pasillos
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'columnas' in request.path %}active{% endif %}" href="{% url 'columna_list' %}">
                                    Columnas
                                </a>
                            </li>
                            <li>
                                <a class="nav-link text-white {% if 'estantes' in request.path %}active{% endif %}" href="{% url 'estante_list' %}">
                                    Estantes
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>

        
                <!-- Cambiar Contraseña -->
                <li class="nav-item">
                    <a class="nav-link text-white" href="{% url 'password_change' %}">Cambiar Contraseña</a>
                </li>
        
                <!-- Cerrar Sesión -->
                <li class="nav-item mt-auto">
                    <form action="{% url 'logout' %}" method="post" class="m-0 p-0">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-link nav-link text-white text-start">Cerrar Sesión</button>
                    </form>
                </li>
            </ul>
        </nav>        

        <!-- Contenido Principal -->
        <main class="p-4 w-100">
            {% block content %}
            {% endblock %}
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
